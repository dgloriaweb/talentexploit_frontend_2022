<template>
  <h1>List of Recommended Jobs</h1>
  <div id="myGridContainer">
    <div id="myGridColumn" v-if="match_rates">
      <h2>Your Personal Preferences</h2>
      <div id="ratesContainer">
        <div v-for="job in match_rates" :key="job.id" id="myGridRow">
          <div class="grid-cell-1">
            <router-link :to="{ name: 'Job Detail', params: { id: job.id } }">{{
              job.job_name
            }}</router-link>
          </div>
          <div class="grid-cell-2">
            {{ job.job_rate }}
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import jobService from "../services/job.service";
import { onMounted, ref } from "vue";
export default {
  setup() {
    var match_rates = ref(null);

    function fetchData() {
      jobService
        .getMyJobs()
        .then((response) => {
          console.log(response.data.all_job_match_rates);
          match_rates.value = response.data.all_job_match_rates;
        })
        .catch((error) => {
          console.log(error);
        });
    }
    onMounted(() => {
      fetchData();
    });
    return {
      match_rates,
    };
  },
};
</script>

<style  scoped>
</style>